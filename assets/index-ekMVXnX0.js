(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();class L{constructor(o,s,d,e,t,c,i){this.id=o,this.name=s,this.teacher=d,this.day=e,this.period=t,this.room=c,this.week=i}}function N(a){const o=a.split("	");if(o.length<7)return null;const s=parseInt(o[0]),d=o[2],e=o[6],t=o[7].split(",");if(t.length!=3)return null;const c=t[0]?.trim(),i=t[1]?.trim(),v=t[2]?.trim(),f=o[8]?.trim();return!c||!i?null:new L(s,d,e,c,i,v,f)}document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("input"),o=document.getElementById("parse"),s=document.getElementById("output");!a||!o||!s||o.addEventListener("click",()=>{const d=a.value.trim();if(!d)return;const e=d.split(`
`),t=[];e.forEach(n=>{const r=N(n);r&&t.push(r)}),s.innerHTML="";const c=document.createElement("table");c.className="table-custom";const i=document.createElement("tr");["Tiết / Giờ","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7","Chủ nhật"].forEach(n=>{const r=document.createElement("th");r.textContent=n,r.style.padding="8px",r.style.backgroundColor="#f2f2f2",i.appendChild(r)}),c.appendChild(i);const f={1:"07:00 - 07:50",2:"08:00 - 08:50",3:"09:00 - 09:50",4:"10:00 - 10:50",5:"11:00 - 11:50",6:"12:30 - 13:20",7:"13:30 - 14:20",8:"14:30 - 15:20",9:"15:30 - 16:20",10:"16:30 - 17:20",11:"17:30 - 18:20",12:"18:30 - 19:20",13:"19:30 - 20:20",14:"20:30 - 21:20"},T=[];for(let n=1;n<=14;n++){const r=document.createElement("tr"),m=document.createElement("td");m.style.padding="8px",m.style.backgroundColor="#f2f2f2",m.textContent=`Tiết ${n}
${f[n]}`,r.appendChild(m);for(let p=0;p<7;p++){const l=document.createElement("td");l.style.padding="8px",l.style.verticalAlign="top",l.style.minHeight="60px",l.style.border="1px solid #ddd",r.appendChild(l)}c.appendChild(r),T.push(r)}const w={"Thứ 2":0,"Thứ 3":1,"Thứ 4":2,"Thứ 5":3,"Thứ 6":4,"Thứ 7":5,"Chủ nhật":6};t.forEach(n=>{const r=w[n.day.trim()];if(r===void 0)return;const m=new RegExp("^(\\d+)-(\\d+)$"),p=n.period.match(m);if(!p)return;let l=parseInt(p[1]),x=parseInt(p[2]);for(let h=l;h<=x;h++){if(h<1||h>14)continue;const b=T[h-1].cells[r+1],u=document.createElement("div");u.className="container";const y=document.createElement("div");y.textContent=n.name!==void 0?n.name:"",y.className="subject-name";const E=document.createElement("div");E.textContent=n.teacher!==void 0?n.teacher:"",E.className="subject-teacher";const C=document.createElement("div");C.textContent=n.room!==void 0?n.room:"",C.className="subject-room";const g=document.createElement("div");g.textContent=n.week!==void 0?n.week:"",g.className="subject-week",u.appendChild(y),u.appendChild(E),u.appendChild(C),u.appendChild(g),b.appendChild(u)}}),s.appendChild(c)})});
